<% if book.favorited_by?(current_user) %>
  <p>
    <%= link_to book_favorite_path(book), method: :delete, remote: true, data: {"turbolinks" => false} do %>
      <i class="fas fa-heart" aria-hidden="true" style="color: red;"></i>
      <span style="color: red;"><%= book.favorites.count %></span>
    <% end %>
  </p>
<% else %>
  <p>
    <%= link_to book_favorite_path(book), method: :post, remote: true, data: {"turbolinks" => false} do %>
      <i class="fas fa-heart" aria-hidden="true"></i>
      <span><%= book.favorites.count %></span>
    <% end %>
  </p>
<% end %>

    <!--link_to内にremote; true を追加することで非同期通信に切り替えられ、
    HTMLリクエストではなくJavaScriptのリクエストがfavoritesコントローラに送られる-->
  　<!--つまり、ページがリロードされることなく変更を反映することができる-->